쮸lguna vez has escuchado los t칠rminos QUERY, SELECT, LIMIT, ORDER BY, etc,  pero nunca entendido su significado?

Eso acaba aqu칤. Hoy convertiremos estas palabras misteriosas en, adivina, tus mejores amigos.

En s칤ntesis en este post aprender치s:
- Qu칠 es SQL y cu치l es su importancia en el an치lisis de datos.
- Qu칠 son y c칩mo operan los motores de bases de datos.
- La estrella del show: La tabla.
- La estructura b치sica de un query.

No te preocupes si no tienes experiencia previa con estos conceptos, aprenderemos desde lo m치s b치sico.

Y, sorpresa ;D, al final de este art칤culo podr치s crear tu primer gran query.

춰Empezemos!

/t- SQL: 쯈u칠 es y cu치l es su importancia?

D칤a a d칤a los cient칤ficos de datos necesitan encontrar informaci칩n precisa que, en la mayor칤a de casos, solo se puede acceder a tr치ves de consultas (en ingl칠s queries) a las bases de datos.

Estas deben seguir un orden y estructura preciso, esto para que la base de datos (Desde ahora BS) las entienda y no de errores.

De ah칤 el acr칩nimo SQL (Structured query language) que en espa침ol significa lenguaje estructurado de consultas, o, en cristiano: el lenguaje universal para consultar a las bases de datos.

쮺칩mo funciona?

Mira la siguiente imagen.

-- IMAGEN DE LA TABLA VENDEDORES -- CAP: Una tabla SQL.

Estos datos organizados son una tabla, la estructura principal de la mayor칤a de bases de datos.

Igual que una hoja de c치culo, cada tabla debe tener un nombre 칰nico que la identifique.

Como esta tiene informaci칩n de personas, la podemos llamar 'personas1'.

S칤, lo s칠, las tablas SQL se parecen a un Excel de toda la vida, pero se diferencian en varios aspectos:

--- Creaci칩n de una tabla de comparaci칩n entre archivo excel y una tabla de bases ded datos relacionales-------------

Las tabla:

- Pueden soportar hasta miles de millones de datos.
- Solo trabajan con lenguaje SQL
- Son m치s r치pidas que
- Se almacenan en un motor de bases de datos. vs se almacenan en una hoja de c치lculo.

---------------------

La 칰ltima diferencia es la m치s importante, ya que el motor de bases de datos (O MBS para abreviar) es el co-protagonista de este show.

Podr칤amos decir que el MBS es como un almacen especial, en vez de materiales y objetos, guardan datos y tablas.

Estos almacenes pueden ser grandes o peque침os, optimizados para objetivos espec칤ficos (Como r치pidez o seguridad) o todo-terreno, con o sin extensiones, etc.

De ah칤 su gran variedad. Como ejemplo est치n: Postgresql, Mysql, MS SQL, etc. Cada uno con su diferencial.

Pero, siendo francos, eso no importa ahora. Es hora de crear tu primer gran query.

/t - Tu primera sentencia: SELECT y FROM

춰Felicidades! Has sido contratado como cient칤fico de datos en Marketing.SAC, un conglomerado de call centers, y hoy es tu primer d칤a. 游땎

Es lunes a las 8 a. m., abres tu computadora y te encuentras con un email del Jefe de Marketing:

'Buenos d칤as. Porfavor enviame los nombres, apellidos y edades de los vendedores registrados en Postgres. Necesitamos hacer un an치lisis de colaboradores urgente. Lo espero hasta las 9:30 a. m.'

Vaya inicio, pero nada que no se pueda manejar. Abres la base de datos en tu computadora y te acuerdas que la tabla 'vendedores1' contiene toda la informaci칩n necesaria.

- Imagen referencial.

Utilizar SELECT y FROM es la clave aqu칤. Ambas son palabras clave (O keywords) SQL que le dicen a la BS:
-SELECT: Cu치les columnas mostrar y cu치les no.
-FROM:  De qu칠 tabla obtener la informaci칩n.

Tranquilo si no lo entiendes ahora, en breve lo explicaremos m치s a detalle.

Ejemplo: Como no sabemos c칩mo es, ser칤a buena idea mostrar la tabla.

INPUT: 'SELECT * FROM vendedores;'

OUTPUT: --- Imagen de toda la tabla ---

Genial pero nosotros solo queremos obtener los nombres, apellidos y edades. En este caso notamos que estos datos est치n en las columnas 'edades1', 'names01' y 'apellidos'.

Podemos realizar el siguiente query para mostrar solo estas columnas: 'SELECT edades1, names01, apellidos FROM vendedores;'

INPUT: 'SELECT edades1, names01, apellidos FROM vendedores;'

OUTPUT: --- Imagen de solo esta columna ---

Como te puedes dar cuenta, SELECT sirve para seleccionar las columnas que quieres mostrar de la tabla. Si quisieramos obtener columnas espec칤ficas, podemos su nombre al costado de 'SELECT', si quisieramos todas ponemos un '*'.

FROM solo le dice a la base de datos de qu칠 tabla obtener la informaci칩n. Si pusieramos 'usuarios' en vez de 'vendedores', adivina de que grupo mostrar칤a la info.

Si has sido observador notar치s que existen vendedores con 6 a침os de edad? Y , aunque no lo creas, en una situaci칩n real te topar치s con datos que no tienen sentido.

A estos datos los llamamos: 'datos basura' o 'datos da침ados' y se tratan en otro tema aparte: limpieza de datos.

Por ahora digamos que estos datos se corregir치n autom치ticamente al hacer los reportes, que el excel pasar치 toda edad menor a 18 a침os a 18 a침os.

춰Listo! Pasas la informaci칩n a un reporte de Excel y lo env칤as.

/t - 쮻칩nde est치 WHERE?

Todo es paz y tranquilidad hasta que vez un email del vicepresidente de ventas:

'Bienvenido a la compa침ia. Necesitamos los datos de los vendedores menores a 25 a침os. Los j칩venes son el futuro y queremos ver sus resultados'

WHERE es 2 cosas aqu칤: Tu mejor amigo y la palabra clave que filtra los datos en base a una condici칩n.

Igual que el primero, WHERE est치 all칤 d칩nde m치s lo necesitas.

Como ahora. 游땙

Ejemplo: Si quisieramos obtener los datos de solo los vendedores peruanos, ponemos 'WHERE pais='Peru'' al costado de FROM. As칤:

INPUT: 'SELECT * FROM vendedores WHERE pais='peru';'

OUTPUT: --TABLEE.

En este caso queremos filtrar por a침os, de modo cambiamos el condicional: 'SELECT * FROM vendedores WHERE a침os<25;'

INPUT: 'SELECT * FROM vendedores WHERE a침os<25;'

OUTPUT: --TABLEE.

Genial. Justo toca hora de almuerzo. Envias la informaci칩n y vas por un caf칠.

/t - Organiza y vencer치s: LIMIT y ORDER BY:

Regresas y notas 쯆tro email? Acabar치 el almuerzo pero no el d칤a jeje.

Esta vez del mismo CEO de la empresa. 쯈u칠 buscar치?

'Buenas tardes. Hoy es la ceremonia de progreso para los 10 mejores vendedores menores a 21 a침os. Se les debe de dar su bono y ascenso antes de acabar el turno laboral. Porfavor enviarme sus identificadores, edades y n칰mero de ventas.'

En este caso necesitaremos de LIMIT y ORDER BY, que, como se puede inferir, sirven para limitar el n칰mero de datos mostrados y para ordenarlos en base a un criterio.

Ejemplo de LIMIT: Si quisieramos los datos de solo 10 personas, esta ser칤a nuestra consulta:

INPUT: 'SELECT * FROM vendedores LIMIT 10;

OUTPUT: --TABLEE.

Ejemplo de ORDER BY: Ordenar los datos en base al n칰mero de ventas de manera descendente.

INPUT: 'SELECT * FROM vendedores ORDER BY ventas DESC'

OUTPUT: --TABLEE.

Si quisieramos verlo de manera ascendente, cambiamos DESC por ASC.

INPUT: 'SELECT * FROM vendedores ORDER BY ventas ASC'

OUTPUT: --TABLEE.

Las palabras ASC y DESC son opcionales. 쯈u칠 sucede si no ponemos ninguna? Por defecto se ordenar치 de manera descendente.

/t - La ';' y el orden. Final de temporada.

Te tengo que contar un secreto: hasta ahora hemos visto las keyword por separado. pero para que funcionen juntas (Y no salgan errores) deben estar en un orden especial. Adem치s de, casi, siempre finalizar con un ';'.

Este es su orden:
1) SELECT
2) FROM
3) ORDER BY
4) WHERE
5) LIMIT

Tal vez te parezca un secreto aburrido, pero creeme que te evitar치 dolores para ti y tus dedos.

Con esto por fin estamos listos para escribir el siguiente y 칰ltimo query. 춰Valla primer d칤a!

(Nota: Existe un truco para el aprendizaje: Intentar y fallar. La mente aprende m치s al tratar y equivocarse que de no tratar para nada. Te reto a encontrar el input de este email por ti mismo. Nadie nace experto, no temas equivocarte.)

쯃isto? Este es:

INPUT: SELECT * FROM vendedores WHERE edad>21 ORDER BY ventas_mes DESC LIMIT 10;

OUTPUT: Tablee

춰Felicidades! Lograste aprender que es SQL, crear tu primer gran query y culminar tu primer d칤a en Marketing.SAC.

Puede que te preguntes 쯇ero que hay de los JOINS o GROUP BY? 쯅o los veremos? 

Y la verdad es que: No. Estas s칤 son funciones importantes del d칤a a d칤a, pero a la vez abarcan conceptos matem치ticos un poco m치s complejos.

Te invito a revisar el siguiente post de esta ser칤e sobre SQL: 쯈u칠 son y c칩mo funcionan los GROUP BY y JOINS en SQL?

Por el momento es todo de mi parte. Soy Augusto Huerta, estudiante de ciencias de datos y amante de los videojuegos y libros, me puedes encontrar en mi p치gina personal y linkedin:.

---------------------------
Link del blog= https://augustohuerta.com/que-es-sql/
- Como nota final est치 que a침adi una menci칩n al tema de limpieza de datos xD.
- Recuerda que tienes una responsabilidad con el tema de los anuncios de FB
