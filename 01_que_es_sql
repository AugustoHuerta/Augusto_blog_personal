¿Alguna vez has escuchado los términos QUERY, SELECT, LIMIT, ORDER BY, etc,  pero nunca entendido su significado?

Eso acaba aquí. Hoy convertiremos estas palabras misteriosas en, adivina, tus mejores amigos.

En síntesis en este post aprenderás:
- Qué es SQL y cuál es su importancia en el análisis de datos.
- Qué son y cómo operan los motores de bases de datos.
- La estrella de las bases de datos: La tabla.
- La estructura básica de un query.

No te preocupes si no tienes experiencia previa con estos conceptos, aprenderemos desde lo más básico.

Y, sorpresa ;D, al final de este artículo podrás crear tu primer gran query.

¡Empezemos!

/t- SQL: ¿Qué es y cuál es su importancia?

Día a día los científicos de datos necesitan encontrar información precisa que, en la mayoría de casos, solo se puede acceder a tráves de consultas (en inglés queries) a las bases de datos.

Estas deben seguir un orden y estructura preciso, esto para que la base de datos (Desde ahora BS) las entienda y no de errores.

De ahí el acrónimo SQL (Structured query language), que en español significa lenguaje de consultas estructurado, o en cristiano: el lenguaje universal para consultar a las bases de datos.

¿Cómo funciona?

Mira la siguiente imagen.

-- IMAGEN DE LA TABLA VENDEDORES -- CAP: Una tabla SQL.

Estos datos organizados son una tabla, la estructura principal de la mayoría de bases de datosj.

Igual que una hoja de cáculo, todas las tablas deben tener nombres únicos que las diferencie.

Como esta habla de vendedores la llamaremos 'vendedores1'.

¿Qué las diferencia de una tabla en un archivo Excel? Bueno, varias cosas:

--- Creación de una tabla de comparación entre archivo excel y una tabla de bases ded datos relacionales-------------

Las tabla:

- Pueden soportar hasta miles de millones de datos.
- Solo trabajan con lenguaje SQL
- Son más rápidas que
- Se almacenan en un motor de bases de datos. vs se almacenan en una hoja de cálculo.

---------------------

La última diferencia es la más importante, ya que el motor de bases de datos (O MBS para abreviar) es el principal actor del show.

Podríamos decir que el MBS es como un almacen especial, en vez de materiales y objetos, guardan datos y tablas.

Estos almacenes pueden ser grandes o pequeños, optimizados para objetivos específicos (Como rápidez o seguridad), con o sin extensiones, entre otras características.

De ahí la existencia de una gran variedad de ellos. Como ejemplos están Postgresql, mysql, MS SQL, etc. Cada uno con su respectivo diferencial.

Pero, siendo francos, ellos no importan ahora. Es hora de crear tu primer gran query.

/t - Tu primera sentencia: SELECT y FROM

Es lunes por la mañana. !Felicidades! Es tu primer día como científico de datos en Marketing.SAC, un conglomerado de call centers.

Son las 8 a. m, abres tu email y te encuentras con un email del Jefe de Marketing:

'Buenos días. Porfavor enviame los nombres, apellidos y edades de los vendedores registrados en Postgres. Necesitamos hacer un análisis de colaboradores urgente. Lo espero hasta las 9:30 a. m.'

Vaya inicio, pero nada que no se pueda manejar. Abres la base de datos en tu computadora y te acuerdas que la tabla 'vendedores' contiene toda la información necesaria.

- Imagen referencial.

Utilizar SELECT y FROM es la clave aquí. Ambas son palabras SQL que le dicen a la BS de qué tabla obtener la información y cuáles columnas mostrar y cuáles no.

Ejemplo: Como no sabemos cómo es la tabla, sería buena idea mostrarla toda.

INPUT: 'SELECT * FROM vendedores;'

OUTPUT: --- Imagen de toda la tabla ---

Genial pero nosotros solo queremos obtener los nombres, apellidos y edades. En este caso notamos que estos datos están en las columnas 'edades1', 'names01' y 'apellidos'.

Podemos realizar el siguiente query para mostrar solo estas columnas: 'SELECT edades1, names01, apellidos FROM vendedores;'

INPUT: 'SELECT edades1, names01, apellidos FROM vendedores;'

OUTPUT: --- Imagen de solo esta columna ---

Como te puedes dar cuenta, SELECT sirve para seleccionar, quien lo diría, las columnas que quieres mostrar de la tabla. Si quisieramos obtener todas las columnas, podemos poner un '*' en vez de escribir el nombre de cada una.

FROM solo le dice a la base de datos de qué tabla obtener la información. Si pusieramos 'usuarios' en vez de 'vendedores', adivina de que grupo enviariamos la info.

¡Listo! Pasas la información a un reporte de Excel y lo envías.

/t - ¿Dónde está WHERE?

Todo es paz y tranquilidad hasta que vez un email del vicepresidente de ventas:

'Bienvenido a la compañia. Necesitamos los datos de los vendedores menores a 25 años. Los jóvenes son el futuro y queremos ver sus resultados'

WHERE es 2 cosas aquí: Tu mejor amigo y la palabra clave que filtra los datos en base a una condición.

Igual que el primero, WHERE está allí dónde más lo necesitas.

Como ahora. (Emoji)

Ejemplo: Si quisieramos obtener los datos de solo los vendedores peruanos, ponemos 'WHERE pais='Peru'' al costado de FROM. Así:

INPUT: 'SELECT * FROM vendedores WHERE pais='peru';'

OUTPUT: --TABLEE.

En este caso queremos filtrar por años, de modo que sería: 'SELECT * FROM vendedores WHERE años<25;'

INPUT: 'SELECT * FROM vendedores WHERE años<25;'

OUTPUT: --TABLEE.

Genial. Justo toca hora de almuerzo. Envias la información y vas por un café.

/t - Organiza y vencerás: LIMIT y ORDER BY:

Regresas y notas otro email, pero esta vez del mismo CEO de la empresa. ¿Qué buscará?

'Buenas tardes. Hoy es la ceremonia de progreso para los 10 mejores vendedores menores a 21 años. Se les debe de dar su bono y ascenso antes de acabar el turno laboral. Porfavor enviarme sus identificadores, edades y número de ventas.'

En este caso necesitaremos de LIMIT y ORDER BY. Como se puede llegar a inferir, la primera es para limitar el número de datos mostrados y la segunda para ordenarlos en base a un criterio.

Ejemplo de LIMIT: Si quisieramos los datos de solo 10 personas, esta sería nuestra consulta:

INPUT: 'SELECT * FROM vendedores LIMIT 10'

OUTPUT: --TABLEE.

Ejemplo de ORDER BY: Ordenadr los datos en base al número de ventas de manera descendente.

INPUT: 'SELECT * FROM vendedores ORDER BY ventas DESC'

OUTPUT: --TABLEE.

Ahora de manera ascendente:

Ejemplo de ORDER BY: Ordenar los datos en base al número de ventas de manera descendente.

INPUT: 'SELECT * FROM vendedores ORDER BY ventas ASC'

OUTPUT: --TABLEE.

Las palabras ASC y DESC son opcionales. ¿Qué sucede si no ponemos ninguna? Por defecto se ordenará de manera descendente.

/t - La ';' y el orden. Final de temporada.

Te tengo que contar un secreto: hasta ahora hemos visto las keyword por separado. pero para que funcionen juntas (Y no salgan errores) deben estar en un orden especial. Además de, casi, siempre finalizar con un ';'.

Este es su orden:
1) SELECT, 
2)FROM, 
3) ORDER BY, 
4) WHERE, 
5) LIMIT.

Tal vez no te parezca el mejor secreto jamás contado, pero evitará dolores para ti y tus dedos.

Con esto por fin estamos listos para escribir el siguiente y último query. ¡Valla primer día!

(Nota: Existe un truco para el aprendizaje: Intentar y fallar. La mente aprende más al tratar y equivocarse que de no tratar para nada. Te reto a encontrar el input de este email por ti mismo. Nadie nace experto, no temas equivocarte.)

¿Listo? Este es:

INPUT: SELECT * FROM vendedores WHERE edad>21 ORDER BY ventas_mes DESC LIMIT 10;

OUTPUT: Tablee

¡Felicidades! Lograste aprender que es SQL, crear tu primer gran query y culminar tu primer día en Marketing.SAC.

Puede que te preguntes ¿Pero que hay de los JOINS o GROUP BY? ¿No los vamos a ver?

Y la verdad es que: No. Estas sí son funciones importantes del día a día, pero a la vez abarcan conceptos matemáticos un poco más complejos.

Te invito a revisar el siguiente post de esta seríe sobre SQL: ¿Qué son y cómo funcionan los GROUP BY y JOINS en SQL?

Por el momento es todo de mi parte. Soy Augusto Huerta, estudiante de ciencias de datos y amante de los videojuegos y libros, me puedes encontrar en mi página personal y linkedin:.

---------------------------
Link del blog= https://augustohuerta.com/que-es-sql/
- Ver una manera para poder poner las etiquetas de párrafos en los blog posts.
- Ver el tema de una vez de los datos que voy a utilizar para hacer los queries.
-- Comprobbar lo queries porsupuesto.
-- Poner imagenes de bases de datos o gifs para mantener atención.
- Recuerda que tienes una responsabilidad con el tema de los anuncios de FB
- Ver donde poner primero el concepto de key word
